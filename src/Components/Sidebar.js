import React, { useContext } from "react";
import { Nav } from "react-bootstrap";
import { Link, useHistory } from "react-router-dom";
import {API} from "../Config/api"

//image
import profilePic from "../Image/ProfilePic.png";
import logoPic from "../Image/IconMini.png";

//css
import "../sideBar.css";

//context
import { AppContext } from "../Context/globalContext";

function Sidebar() {
  const [state, dispatch] = useContext(AppContext);

  const condition = state.isSubscribed;

  const history = useHistory();

  const goToHome = () => {
    history.push(`/home`);
  };

  return (
    <Nav
      className="col-md-1-5 d-none d-md-block sidebar"
      activeKey="/home"
      onSelect={(selectedKey) => alert(`selected ${selectedKey}`)}
    >
      <div className="sidebar-sticky"></div>
      <Nav.Item>
        <img
          className="logos"
          src={logoPic}
          alt=""
          onClick={() => goToHome()}
        />
      </Nav.Item>
      <Nav.Item>
        <img className="foto" src={profilePic} alt="" />
        <p className="user-name fotoName">{state.userLogin.name}</p>
      </Nav.Item>
      <Nav.Item>
        <p className="subStat" style={{ color: condition ? "green" : "red" }}>
          {state.isSubscribed ? "Subscribed" : "Not subscribed yet"}
        </p>
      </Nav.Item>
      <hr style={{ width: "230px" }} />
      <Nav.Item>
        <Nav.Link to="/profile" as={Link}>
          <p className="menus">
            <svg
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12.5 0C8.86528 0 5.9082 2.95708 5.9082 6.5918C5.9082 10.2265 8.86528 13.1836 12.5 13.1836C16.1347 13.1836 19.0918 10.2265 19.0918 6.5918C19.0918 2.95708 16.1347 0 12.5 0ZM12.5 11.7188C9.673 11.7188 7.37305 9.4188 7.37305 6.5918C7.37305 3.7648 9.673 1.46484 12.5 1.46484C15.327 1.46484 17.627 3.7648 17.627 6.5918C17.627 9.4188 15.327 11.7188 12.5 11.7188Z"
                fill="#929292"
              />
              <path
                d="M14.5426 14.6973H10.4573C7.07832 14.6973 3.7436 16.2574 1.51367 19.6024V25H23.4863V19.6024C21.2596 16.2622 17.9258 14.6973 14.5426 14.6973ZM22.0215 23.5352H22.0215H2.97852V20.0506C4.68901 17.6115 7.46836 16.1621 10.4574 16.1621H14.5427C17.5317 16.1621 20.311 17.6115 22.0215 20.0506V23.5352Z"
                fill="#929292"
              />
            </svg>{" "}
            Profile
          </p>
        </Nav.Link>
      </Nav.Item>
      <Nav.Item>
        <Nav.Link to="/subscribe" as={Link}>
          <p className="menus">
            <svg
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0)">
                <path
                  d="M22.9872 4.97363C23.0002 4.97458 23.0133 4.97553 23.0266 4.97553C23.0491 4.97553 23.0717 4.97363 23.0938 4.97055C23.6845 4.98265 24.1572 5.46443 24.1579 6.05513C24.1579 6.32355 24.3756 6.54118 24.644 6.54118C24.9124 6.54118 25.13 6.32355 25.13 6.05513C25.1288 5.08897 24.4563 4.25311 23.5126 4.04521V3.57815C23.5126 3.30973 23.295 3.0921 23.0266 3.0921C22.7582 3.0921 22.5405 3.30973 22.5405 3.57815V4.06728C21.5428 4.33404 20.8973 5.29925 21.0319 6.32331C21.1664 7.34738 22.0393 8.113 23.0722 8.113C23.6719 8.113 24.1579 8.59928 24.1579 9.19901C24.1579 9.7985 23.6719 10.2848 23.0722 10.2848C22.4724 10.2848 21.9864 9.7985 21.9864 9.19901C21.9864 8.93059 21.7688 8.71296 21.5003 8.71296C21.2319 8.71296 21.0143 8.93059 21.0143 9.19901C21.0155 10.1303 21.6411 10.945 22.5405 11.1869V11.7194C22.5405 11.9878 22.7582 12.2055 23.0266 12.2055C23.295 12.2055 23.5126 11.9878 23.5126 11.7194V11.2092C24.5391 10.9844 25.2314 10.0223 25.1182 8.97758C25.0052 7.93287 24.123 7.14114 23.0722 7.14138C22.489 7.14162 22.0099 6.6812 21.9869 6.09856C21.9641 5.51593 22.4057 5.0192 22.9872 4.97387V4.97363Z"
                  fill="#929292"
                />
                <path
                  d="M23.0998 0.715744C20.1097 0.715744 17.558 2.66681 16.602 5.27931H4.53842C4.27119 5.27931 4.05427 5.5202 4.05237 5.78719L3.9375 22.8377H0.498863C0.230445 22.8377 0 23.0321 0 23.301V25.4647C0.00617049 27.5017 1.61051 29.1751 3.64535 29.2672V29.2778H18.6521V29.2636C18.7736 29.2681 18.8236 29.2778 18.9005 29.2778H18.911C21.017 29.2745 22.7227 27.5662 22.7227 25.4602V14.5204C22.8442 14.527 22.9728 14.5306 23.0986 14.5306C26.9037 14.5306 30.0001 11.4282 30.0001 7.62291C30.0001 3.81785 26.9051 0.715744 23.0998 0.715744ZM3.83023 28.3057H3.82715C2.25485 28.3036 0.979214 27.0322 0.972094 25.4597V23.8098H15.0675V25.4528C15.0682 26.4672 15.4733 27.4395 16.1929 28.1546C16.2439 28.2056 16.3073 28.245 16.3607 28.3057H3.83023ZM21.7506 25.4597C21.7508 27.0294 20.48 28.3027 18.9105 28.3057H18.9012C17.3254 28.3029 16.0474 27.0289 16.0396 25.4533V23.301C16.0436 23.1766 15.9961 23.0563 15.9081 22.9685C15.82 22.8807 15.6997 22.8335 15.5756 22.8377H4.9096L5.02114 6.2514H16.3322C16.246 6.69639 16.2014 7.14826 16.199 7.60132C16.1981 8.55941 16.3979 9.50682 16.7857 10.3828H12.1948C11.9262 10.3828 11.7088 10.6004 11.7088 10.8688C11.7088 11.1373 11.9262 11.3549 12.1948 11.3549H17.3131C18.3158 12.9317 19.9187 14.031 21.7506 14.3988V25.4597ZM23.0998 13.5587C19.8256 13.5587 17.1711 10.9044 17.1714 7.63003C17.1714 4.35563 19.8256 1.70136 23.1 1.70136C26.3742 1.70136 29.0285 4.35587 29.0285 7.63003C29.0249 10.9028 26.3728 13.5551 23.0998 13.5587Z"
                  fill="#929292"
                />
                <path
                  d="M9.07497 13.6176C8.21703 13.6176 7.51929 14.2932 7.51929 15.1239C7.51929 15.9545 8.21703 16.6302 9.07497 16.6302C9.93291 16.6302 10.6309 15.9545 10.6309 15.1239C10.6309 14.2932 9.93291 13.6176 9.07497 13.6176ZM9.07497 15.6581C8.75292 15.6581 8.49138 15.4184 8.49138 15.1239C8.49138 14.8291 8.75316 14.5897 9.07497 14.5897C9.39679 14.5897 9.6588 14.8294 9.6588 15.1239C9.6588 15.4184 9.39679 15.6581 9.07497 15.6581Z"
                  fill="#929292"
                />
                <path
                  d="M11.7087 15.1218C11.7087 15.3902 11.9261 15.6078 12.1948 15.6078H18.6748C18.9432 15.6078 19.1608 15.3902 19.1608 15.1218C19.1608 14.8533 18.9432 14.6357 18.6748 14.6357H12.1948C11.9261 14.6357 11.7087 14.8533 11.7087 15.1218Z"
                  fill="#929292"
                />
                <path
                  d="M9.07497 9.39243C8.21703 9.39243 7.51929 10.0683 7.51929 10.899C7.51929 11.7296 8.21703 12.4053 9.07497 12.4053C9.93291 12.4053 10.6309 11.7296 10.6309 10.899C10.6309 10.0683 9.93291 9.39243 9.07497 9.39243ZM9.07497 11.4332C8.75292 11.4332 8.49138 11.1935 8.49138 10.899C8.49138 10.6045 8.75316 10.3645 9.07497 10.3645C9.39679 10.3645 9.6588 10.6042 9.6588 10.899C9.6588 11.1935 9.39679 11.4334 9.07497 11.4334V11.4332Z"
                  fill="#929292"
                />
                <path
                  d="M9.07497 17.8422C8.21703 17.8422 7.51929 18.5179 7.51929 19.3485C7.51929 20.1792 8.21703 20.8548 9.07497 20.8548C9.93291 20.8548 10.6309 20.1792 10.6309 19.3485C10.6309 18.5179 9.93291 17.8422 9.07497 17.8422ZM9.07497 19.8828C8.75292 19.8828 8.49138 19.6433 8.49138 19.3485C8.49138 19.054 8.75316 18.8143 9.07497 18.8143C9.39679 18.8143 9.6588 19.054 9.6588 19.3485C9.6588 19.6431 9.39679 19.8828 9.07497 19.8828Z"
                  fill="#929292"
                />
                <path
                  d="M18.6748 18.8886H12.1948C11.9261 18.8886 11.7087 19.1062 11.7087 19.3747C11.7087 19.6431 11.9261 19.8607 12.1948 19.8607H18.6748C18.9432 19.8607 19.1608 19.6431 19.1608 19.3747C19.1608 19.1062 18.9432 18.8886 18.6748 18.8886Z"
                  fill="#929292"
                />
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="30" height="30" fill="white" />
                </clipPath>
              </defs>
            </svg>
            {"  "}Subscribe
          </p>
        </Nav.Link>
      </Nav.Item>
      <hr />
      <Nav.Item>
        <Nav.Link onClick={() => dispatch({ type: "LOGOUT" })}>
          <p className="menus">
            <svg
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0)">
                <path
                  d="M24.2181 11.7192H14.3225C13.8912 11.7192 13.5413 11.3692 13.5413 10.9379C13.5413 10.5067 13.8912 10.1567 14.3225 10.1567H24.2181C24.6493 10.1567 24.9993 10.5067 24.9993 10.9379C24.9993 11.3692 24.6493 11.7192 24.2181 11.7192Z"
                  fill="#929292"
                />
                <path
                  d="M20.3118 15.6253C20.1117 15.6253 19.9118 15.5492 19.7596 15.3962C19.4545 15.0909 19.4545 14.5961 19.7596 14.291L23.1138 10.937L19.7596 7.58282C19.4545 7.27765 19.4545 6.7829 19.7596 6.47774C20.065 6.17238 20.5597 6.17238 20.8649 6.47774L24.771 10.3839C25.0762 10.689 25.0762 11.1838 24.771 11.489L20.8649 15.3951C20.7118 15.5492 20.5119 15.6253 20.3118 15.6253Z"
                  fill="#929292"
                />
                <path
                  d="M8.33314 25C8.11018 25 7.89866 24.9687 7.68733 24.9031L1.41864 22.8146C0.565702 22.5167 0 21.7219 0 20.8335V2.08411C0 0.935159 0.934381 0.000778198 2.08333 0.000778198C2.3061 0.000778198 2.51762 0.0320578 2.72914 0.0976685L8.99764 2.18615C9.85077 2.48407 10.4163 3.27884 10.4163 4.16725V22.9167C10.4163 24.0656 9.48209 25 8.33314 25ZM2.08333 1.56323C1.79686 1.56323 1.56245 1.79764 1.56245 2.08411V20.8335C1.56245 21.0553 1.71141 21.2615 1.92388 21.3355L8.1632 23.4147C8.20802 23.4292 8.26638 23.4375 8.33314 23.4375C8.61961 23.4375 8.85383 23.2031 8.85383 22.9167V4.16725C8.85383 3.94543 8.70487 3.73926 8.4924 3.66525L2.25308 1.58612C2.20826 1.57162 2.1499 1.56323 2.08333 1.56323Z"
                  fill="#929292"
                />
                <path
                  d="M15.8848 8.33392C15.4535 8.33392 15.1035 7.98393 15.1035 7.55269V2.86534C15.1035 2.14762 14.5193 1.56323 13.8016 1.56323H2.08323C1.65199 1.56323 1.302 1.21324 1.302 0.782004C1.302 0.350766 1.65199 0.000778198 2.08323 0.000778198H13.8016C15.3818 0.000778198 16.666 1.28515 16.666 2.86534V7.55269C16.666 7.98393 16.316 8.33392 15.8848 8.33392Z"
                  fill="#929292"
                />
                <path
                  d="M13.8016 21.8751H9.63499C9.20375 21.8751 8.85376 21.5251 8.85376 21.0938C8.85376 20.6626 9.20375 20.3126 9.63499 20.3126H13.8016C14.5194 20.3126 15.1036 19.7282 15.1036 19.0105V14.3232C15.1036 13.8919 15.4536 13.5419 15.8848 13.5419C16.316 13.5419 16.666 13.8919 16.666 14.3232V19.0105C16.666 20.5907 15.3818 21.8751 13.8016 21.8751Z"
                  fill="#929292"
                />
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="25" height="25" fill="white" />
                </clipPath>
              </defs>
            </svg>
            {"  "}Logout
          </p>
        </Nav.Link>
      </Nav.Item>
    </Nav>
  );
}

export default Sidebar;
